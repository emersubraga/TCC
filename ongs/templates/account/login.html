{% extends "base_auth.html" %}
{% load socialaccount %}
{% load i18n %}
{% load static %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-emerald-700 via-emerald-600 to-lime-500 flex items-stretch">
  <div class="hidden lg:flex lg:w-1/2 p-12 items-center">
    <div class="max-w-lg text-white">
      <div class="flex items-center gap-3 mb-8">
        <div class="w-12 h-12 rounded-2xl bg-white/15 backdrop-blur flex items-center justify-center border border-white/20">
          <i class="fa-solid fa-paw text-2xl"></i>
        </div>
        <div class="text-2xl font-extrabold tracking-tight">
          Rastro<span class="text-orange-300">Animal</span>
        </div>
      </div>

      <h1 class="text-4xl font-extrabold leading-tight">
        Tecnologia para proteger quem não pode pedir ajuda.
      </h1>
      <p class="mt-4 text-white/90 text-lg">
        Acesse seu painel para gerenciar animais, QR Codes e acompanhar localizações com segurança.
      </p>

      <div class="mt-10 grid grid-cols-2 gap-4">
        <div class="rounded-2xl bg-white/10 border border-white/15 p-5">
          <div class="font-semibold">Dashboard</div>
          <p class="text-sm text-white/85 mt-1">Visão geral e atalhos.</p>
        </div>
        <div class="rounded-2xl bg-white/10 border border-white/15 p-5">
          <div class="font-semibold">QR Code</div>
          <p class="text-sm text-white/85 mt-1">Identificação rápida do animal.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="w-full lg:w-1/2 flex items-center justify-center p-6">
    <div class="w-full max-w-md">
      <div class="bg-white/95 backdrop-blur rounded-2xl shadow-2xl border border-white/40 p-8">
        <div class="flex items-center justify-center gap-3 mb-6">
          <div class="w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 flex items-center justify-center">
            <i class="fa-solid fa-paw text-emerald-700 text-xl"></i>
          </div>
          <div class="text-2xl font-extrabold text-emerald-800">
            Rastro<span class="text-orange-500">Animal</span>
          </div>
        </div>

        <p class="text-center text-sm text-gray-600 mb-6">
          Entre para acessar o sistema.
        </p>

        <a href="{% provider_login_url 'google' %}"
           class="w-full flex items-center justify-center gap-3 rounded-xl border border-gray-200 bg-white px-4 py-3 hover:bg-gray-50 transition shadow-sm">
          <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5" alt="Google">
          <span class="font-semibold text-gray-800">Entrar com Google</span>
        </a>

        <div class="flex items-center gap-3 my-6">
          <div class="h-px bg-gray-200 flex-1"></div>
          <span class="text-xs text-gray-400">ou</span>
          <div class="h-px bg-gray-200 flex-1"></div>
        </div>

        <style>
          .auth-form input, .auth-form select, .auth-form textarea {
            width: 100%;
            padding: 12px 14px 12px 44px;
            border: 1px solid #e5e7eb;
            border-radius: 14px;
            background: #f9fafb;
            outline: none;
            transition: all .2s ease;
            font-size: 14px;
          }
          .auth-form input:focus, .auth-form select:focus, .auth-form textarea:focus {
            border-color: #10b981;
            box-shadow: 0 0 0 4px rgba(16,185,129,.15);
            background: #fff;
          }
          .field-wrap { position: relative; }
          .field-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 14px;
            pointer-events: none;
          }
          .auth-errors {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
            padding: 10px 12px;
            border-radius: 14px;
            font-size: 13px;
            margin-bottom: 12px;
          }
        </style>

        <form method="post" action="{% url 'account_login' %}" class="auth-form space-y-4 text-left">
          {% csrf_token %}

          {% if form.non_field_errors %}
            <div class="auth-errors">{{ form.non_field_errors }}</div>
          {% endif %}

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">Login</label>
            <div class="field-wrap">
              <i class="field-icon fa-solid fa-user"></i>
              {{ form.login }}
            </div>
            <div class="text-red-600 text-xs mt-1">{{ form.login.errors }}</div>
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">Senha</label>
            <div class="field-wrap">
              <i class="field-icon fa-solid fa-lock"></i>
              {{ form.password }}
            </div>
            <div class="text-red-600 text-xs mt-1">{{ form.password.errors }}</div>
          </div>

          <button type="submit"
                  class="w-full rounded-xl bg-emerald-600 text-white py-3 font-semibold hover:bg-emerald-700 transition shadow">
            Entrar
          </button>
        </form>

        <div class="mt-6 text-center text-sm text-gray-600">
          Não tem conta?
          <a href="{% url 'account_signup' %}" class="font-semibold text-emerald-700 hover:underline">Cadastre-se</a>
        </div>
      </div>

      <p class="text-center text-white/80 text-xs mt-6">
        © {{ now|date:"Y" }} RastroAnimal • Painel de Monitoramento
      </p>
    </div>
  </div>
</div>
{% endblock %}

